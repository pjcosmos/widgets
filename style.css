/* ===== Monotone Gray Theme ===== */
:root{
  --bg: transparent;              /* Notion 임베드 호환 */
  --panel:#ffffff;                /* 카드 배경 */
  --text:#1f2937;                 /* Gray 800 */
  --muted:#6b7280;                /* Gray 500 */
  --line:#e5e7eb;                 /* Gray 200 */
  --acc:#374151;                  /* Gray 700 (포커스/강조) */
  --dot:#4b5563;                  /* Gray 600 (달력 점) */
  --radius:18px;
  --shadow:0 12px 28px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html,body{width:100%;height:auto;margin:0;padding:0;background:var(--bg);color:var(--text);}

/* Notion 임베드/브라우저 공통 래퍼 */
.app{
  width:100%;
  max-width:720px;               /* 가운데 카드 폭 고정 */
  margin:0 auto;
  padding:16px 12px 40px;
  font:14px/1.5 "Pretendard", ui-sans-serif, -apple-system, "Segoe UI", "Noto Sans KR", Roboto, Arial, sans-serif;
  display:flex; flex-direction:column; gap:20px;
}

/* 공통 카드 */
.card{
  width:100%;
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:18px;
}
.card-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.card-head strong{font-weight:700}

/* ===== Calendar ===== */
.nav button{
  border:0; background:#f9fafb; color:var(--text);
  width:34px;height:34px;border-radius:10px; cursor:pointer;
  border:1px solid var(--line);
}
.nav button:hover{background:#f3f4f6}

.weekday,.grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
.weekday div{font-size:12px;color:var(--muted);text-align:center}

.cell{
  height:46px;border-radius:12px;border:1px solid var(--line);
  background:#fff;display:flex;align-items:center;justify-content:center;
  position:relative; user-select:none;
}
.cell.today{
  border-color:var(--acc);
  box-shadow:0 0 0 2px color-mix(in oklab, var(--acc) 30%, transparent);
  font-weight:700;
}
.cell.muted{opacity:.55}
.cell.hasTasks::after{
  content:""; position:absolute; bottom:6px; width:6px; height:6px; border-radius:50%; background:var(--dot);
}

/* Tooltip (텍스트만) */
.tooltip{
  position:absolute; background:#fff; color:var(--text);
  border:1px solid var(--line); border-radius:12px; box-shadow:var(--shadow);
  padding:10px 12px; max-width:260px; z-index:10; pointer-events:none;
}
.tooltip ul{margin:0;padding:0;list-style:none}
.tooltip li{padding:4px 0;border-bottom:1px dashed var(--line)}
.tooltip li:last-child{border-bottom:0}

/* ===== Todo ===== */
/* 입력 레이아웃: 과목 | 과제명 | 메모 | 아이콘 */
.input-box{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr auto;
  gap:10px;
  margin-bottom:14px;
}

/* “추가” 버튼은 숨김(아이콘이 역할 대체) */
.add{ display:none; }

/* 달력에서 사용자가 클릭해 고른 날짜 하이라이트 */
.cell.selected{
  outline: 2px solid color-mix(in oklab, var(--acc) 40%, transparent);
  outline-offset: 2px;
  font-weight: 700;
}

.input-box input{
  padding:11px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#fff; outline:none;
}
.input-box input:focus{
  box-shadow:0 0 0 3px color-mix(in oklab, var(--acc) 18%, transparent);
  border-color:var(--acc);
}

/* 아이콘 버튼(날짜=즉시추가) */
.icon-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:44px; height:44px;
  border:1px solid var(--line); background:#fff; border-radius:12px; cursor:pointer;
  color:#334155;
}
.icon-btn:hover{background:#f3f4f6}

/* 아이콘 정렬 래퍼 */
.date-inline{
  display:inline-flex; align-items:center; gap:8px;
}

#todoList{list-style:none;margin:0;padding:0}
#todoList li{
  background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px 12px;
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:10px; margin-bottom:10px;
}
.chk{
  width:18px;height:18px;appearance:none; border:1.8px solid var(--line); border-radius:6px; display:grid; place-content:center; cursor:pointer;
}
.chk:checked{ border-color:var(--acc); background:var(--acc); }
.chk:checked::after{ content:""; width:10px;height:10px; clip-path:polygon(14% 44%,0 62%,41% 100%,100% 22%,82% 6%,39% 72%); background:#fff; }

#todoList .text{white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
#todoList .act{display:flex; gap:8px}
#todoList .del{ border:0; background:transparent; cursor:pointer; color:#b91c1c; font-weight:700; }

.hint{text-align:center;color:var(--muted);margin-top:6px;font-size:13px}

/* 반응형 (노션 모바일 포함) */
@media (max-width:560px){
  .input-box{grid-template-columns:1fr 1fr auto}
  #memo{grid-column:1 / -1}
}
